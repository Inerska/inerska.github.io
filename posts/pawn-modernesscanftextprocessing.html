<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Alexis C. GRIDEL's blog, covering a lot of notions and concepts, .NET, Python, Pawn, SAMP, C# lover.">
<meta name="keywords" content="C#, blog, .NET, Python, Pawn, SAMP, modern, covid, linux, visual, microsoft, alexis gridel, alexis chân gridel, gridel, inerska, ergazia, c sharp, net framework 4.8, microsoft net framework, net framework 4.5, net 5.0, net 6.0, gta samp, san andreas multiplayer,  gta san andreas multiplayer,  mvp nba">
<meta name="author" content="Alexis C. GRIDEL">
<meta property="og:type" content="website">
<meta property="og:url" content="https://agdl.dev/">
<meta property="og:title" content="Alexis C. GRIDEL">
<meta property="og:description" content="Alexis C. GRIDEL's blog, covering a lot of notions and concepts, .NET, Python, Pawn, SAMP, C# lover.">
<meta property="og:image" content="https://yt3.ggpht.com/ytc/AAUvwngaEmUiSBc-7ShOeKr-jsiO5grO3GrWRlVZiLEa=s88-c-k-c0x00ffffff-no-rj">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://agdl.dev/">
<meta property="twitter:title" content="Alexis C. GRIDEL">
<meta property="twitter:description" content="Alexis C. GRIDEL's blog, covering a lot of notions and concepts, .NET, Python, Pawn, SAMP, C# lover.">
<meta property="twitter:image" content="https://yt3.ggpht.com/ytc/AAUvwngaEmUiSBc-7ShOeKr-jsiO5grO3GrWRlVZiLEa=s88-c-k-c0x00ffffff-no-rj">
<title>Alexis C. GRIDEL's blog</title>

<script data-ad-client="ca-pub-9403387570099751" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="shortcut icon" href="https://yt3.ggpht.com/ytc/AAUvwngaEmUiSBc-7ShOeKr-jsiO5grO3GrWRlVZiLEa=s88-c-k-c0x00ffffff-no-rj" type="image/x-icon">
<link rel="apple-touch-icon" href="https://yt3.ggpht.com/ytc/AAUvwngaEmUiSBc-7ShOeKr-jsiO5grO3GrWRlVZiLEa=s88-c-k-c0x00ffffff-no-rj">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
<link rel="stylesheet" href="/css/post.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism-okaidia.css">
    </head>

    <body>
        <nav class="navbar is-fixed-top bg-light">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item title--link" href="/">
                <span class="has-text-weight-bold">agdl.dev</span>
            </a>
            <span class="navbar-burger" data-target="navbarMenuHeroB">
                <span></span>
                <span></span>
                <span></span>
            </span>
        </div>
        <div id="navbarMenuHeroB" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item is-active" href="/">
                    Home
                </a>
                <a class="navbar-item" href="/about#about__content">
                    About
                </a>
                <a class="navbar-item" href="mailto:contact@agdl.dev">
                    Contact
                </a>
            </div>
        </div>
    </div>
</nav>
        
<section class="container content__spacing feed-article__top section">
    <p class="mb-5 article-meta__tag">Pawn</p>
    <a href="/posts/pawn-modernesscanftextprocessing">
        <h1><a href="/posts/pawn-modernesscanftextprocessing">Pawn moderne &#xBB; Utiliser sscanf</a></h1>
    </a>
    <div class="feed-article__metas">
        <div class="is-flex is-justify-content-space-between">
            <div class="is-flex is-align-items-center">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" style="height:14px;width:14px;" viewBox="0 0 20 20"
                        fill="#000">
                        <path fill-rule="evenodd"
                            d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                            clip-rule="evenodd" />
                    </svg>
                    <p class="article-meta__published-date">Friday, July 2, 2021</p>
                </div>
                <div class="article-meta__author__div">
                    <svg xmlns="http://www.w3.org/2000/svg" style="height:14px;width:14px;" viewBox="0 0 20 20"
                        fill="#000">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                            clip-rule="evenodd" />
                    </svg>
                        <p class="article-meta__author">Alexis C. GRIDEL</p>
                </div>
            </div>
        </div>
        <p>Have you noticed an error in this article? Do not hesitate to correct it, the site is open-source! <a href="https://github.com/Inerska/inerska.github.io" target="_blank">https://github.com/Inerska/inerska.github.io</a></p>
    </div>
</section>
        <main class="container is-max-desktop content__spacing body__fullheight section">
            <p>Ça y'est c'est le grand jour, vous souhaitez aujourd'hui vous attaquer aux commandes, la partie la plus fun d'un gamemode vous ne trouvez pas ? Surtout les commandes d'ordre administratifs, quel plaisir sadique de pouvoir bannir ses meilleurs amis avant même que votre formidable serveur ouvre ses portes.</p>
<p>Vous choisissez votre processeur de commandes <em>zcmd, i-zcmd, pawn.cmd</em> ou non, et vous commencez à créer la commande de kick. Sachant que vous êtes rusé, vous pensez la commande en premier temps, la commande kick prendra un joueur en paramètre et hop il se fait exclure du serveur !</p>
<pre><code class="language-c">cmd:kick(playerid, params[])
{
    Kick(playerid);
    return 1;
}
</code></pre>
<blockquote>
<p>Problème ici, <code>playerid</code> est l'id du joueur qui exécute la commande, ça vous exclura vous et non le joueur cible! (Ce serait quand même bête)</p>
</blockquote>
<h2 id="utiliser-sscanf">Utiliser SSCANF</h2>
<p>Il est important de noter que sscanf est un &quot;outil&quot; de traitement de textes, il va agir et travailler sur du texte, mais quel lien avec notre commande de kick ? Le but est de savoir si le joueur a bien tapé le nom d'un joueur qu'il souhaite exclure.</p>
<p><code>Aymane: /kick killer1</code></p>
<p>On souhaite savoir si Aymane a bien tapé <code>killer1</code>, et qu'il n'ait pas tapé: <code>Aymane: /kick</code>.</p>
<h4 id="hello-world">Hello world!</h4>
<pre><code class="language-c">sscanf(&quot;Hello world!&quot;, &quot;ss&quot;, str, str2);
</code></pre>
<p>Le but ici est de récupérer la partie <code>world!</code>, on spécifie à sscanf les différents <strong>&quot;spécifieurs&quot;</strong> (voire tableau ci-dessous). Ici on spécifie deux <code>string</code> (chaines de caractères). <code>str</code> est assigné &quot;Hello&quot;, <code>str2</code> est assigné &quot;world!&quot;. Simple pas vrai ?</p>
<table>
<thead>
<tr>
<th>Spécifieurs</th>
<th>Nom</th>
<th>Exemples</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i</code>, <code>d</code></td>
<td>Un chiffre</td>
<td><code>1</code>, <code>42</code>, <code>-10</code></td>
</tr>
<tr>
<td><code>c</code></td>
<td>Un caractère</td>
<td><code>a</code>, <code>o</code>, <code>*</code></td>
</tr>
<tr>
<td><code>l</code></td>
<td>Un bool</td>
<td><code>true</code>, <code>false</code></td>
</tr>
<tr>
<td><code>b</code></td>
<td>Un nombre binaire</td>
<td><code>01001</code>, <code>0b1100</code></td>
</tr>
<tr>
<td><code>h</code>, <code>x</code></td>
<td>Un nombre héxa</td>
<td><code>1A</code>, <code>0x23</code></td>
</tr>
<tr>
<td><code>o</code></td>
<td>Un octal</td>
<td><code>045</code>, <code>12</code></td>
</tr>
<tr>
<td><code>n</code></td>
<td>Un nombre quelconque</td>
<td><code>42</code>, <code>0b010</code>, <code>0xAC</code>, <code>045</code></td>
</tr>
<tr>
<td><code>f</code></td>
<td>Un nombre flottant</td>
<td><code>0.7</code>, <code>-99.5</code></td>
</tr>
<tr>
<td><code>g</code></td>
<td>IEEE Float</td>
<td><code>0.7</code>, <code>-99.5</code>, <code>INFINITY</code>, <code>-INFINITY</code>, <code>NAN</code>, <code>NAN_E</code></td>
</tr>
<tr>
<td><code>u</code></td>
<td>Le pseudo d'un joueur ou son id (+ bot)</td>
<td><code>Y_Less</code>, <code>0</code></td>
</tr>
<tr>
<td><code>q</code></td>
<td>Le pseudo d'un bot ou son id</td>
<td><code>ShopBot</code>, <code>27</code></td>
</tr>
<tr>
<td><code>r</code></td>
<td>Le pseudo d'un joueur ou son id</td>
<td><code>Y_Less</code>, <code>42</code></td>
</tr>
<tr>
<td><code>m</code></td>
<td>Une couleur</td>
<td><code>{FF00AA}</code>, <code>0xFFFFFFFF</code>, <code>444</code></td>
</tr>
<tr>
<td><code>s[taille]</code></td>
<td>Un texte</td>
<td><code>cigarette</code>, <code>clope</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Tableau du wiki du repo sscanf d'Y-Less (<a href="https://github.com/Y-Less/sscanf#specifiers">https://github.com/Y-Less/sscanf#specifiers</a>)</p>
</blockquote>
<p><em>Pour vous rassurer, je n'ai jamais utiliser tous les spécifieurs proposés par sscanf.</em></p>
<p>Sachant qu'on souhaite &quot;détecter&quot; un joueur, on récupère le spécifieur <code>r</code> ou bien <code>u</code> si on souhaite ajouter les bots en prime, <em>ce qui est sympa avec ces spécifieurs, c'est qu'ils &quot;détectent&quot; aussi bien les noms que les IDs des joueurs</em>.</p>
<p>On rajoute ça à notre commande de kick.</p>
<pre><code class="language-c">cmd:kick(playerid, params[])
{
    new targetid;
    
    if (sscanf(params, &quot;r&quot;, targetid)) return SendClientMessage(playerid, -1, &quot;USAGE: /kick &lt;player&gt;&quot;); // On met un message au cas où qu'un STAFF ne sache pas utiliser la commande, un petit mémo!
    
    Kick(targetid); // On n'oublie pas de changer par targetid
    
    return 1; // Et la commande s'est très bien exécutée, yes!
}
</code></pre>
<p><em>Petite note pour les développeurs C, vous connaissez très probablement la fonction <code>sscanf</code>, il existe un moyen pour éviter de se confondre, vous pouvez utiliser <code>unformat</code> au lieu de <code>sscanf</code>, tout est pareil, seul le nom de la fonction change.</em></p>
<p>Et voilà, le joueur cible se fera exclure, le pauvre!</p>
<p>Petit exercice pour vous tester, faites une commande de bannissement (/ban <joueur>).</p>
<p><em>Fonctions à utiliser:</em> <code>Kick()</code>, <code>Ban()</code>, <code>sscanf()</code></p>
<blockquote>
<p>Note: La fonction <code>Ban()</code> ban-ip le joueur cible, et l'ajoute au fichier <code>samp.ban</code>, il faut donc aussi exclure le joueur <code>Kick()</code>.</p>
</blockquote>

        </main>
        
<section class="section container is-max-desktop">
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_config = function() {
            this.page.identifier = 'pawn-modernesscanftextprocessing';
            this.page.title = 'Pawn moderne &#xBB; Utiliser sscanf';
            this.page.url = '/posts/pawn-modernesscanftextprocessing';
            // this.page.category_id = '';
        }
        var disqus_shortname = 'agdl-dev'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>

        <footer class="footer has-bg-dark">
    <div class="container">
        <div class="content has-text-centered">
            <p class="text-align-center">
                <svg class="is-small__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                     fill="currentColor">
                    <path fill-rule="evenodd"
                          d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z"
                          clip-rule="evenodd" />
                </svg>
                with
                <svg class="is-small__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                     fill="red">
                    <path fill-rule="evenodd"
                          d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                          clip-rule="evenodd" />
                </svg>
                by
                <span class="has-text-weight-bold">Alexis C. GRIDEL</span>
            </p>
        </div>
        <!--<div class="underneath">
            <div class="columns has-text-centered">
                <div class="column">
                    First column
                </div>
                <div class="column">
                    <span class="has-text-semibold">Social</span>

                </div>
            </div>
        </div>-->
    </div>
</footer>

        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js"
            data-no-mirror></script>
        <script src="https://cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {

                const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

                if ($navbarBurgers.length > 0) {

                    $navbarBurgers.forEach(el => {
                        el.addEventListener('click', () => {

                            const target = el.dataset.target;
                            const $target = document.getElementById(target);

                            el.classList.toggle('is-active');
                            $target.classList.toggle('is-active');
                        });
                    });
                }

            });
        </script>
        <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
        <script>
            kofiWidgetOverlay.draw('alexisgridel', {
                'type': 'floating-chat',
                'floating-chat.donateButton.text': 'Support me',
                'floating-chat.donateButton.background-color': '#00b9fe',
                'floating-chat.donateButton.text-color': '#fff'
            });
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-F82ML3P5DK"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());

            gtag('config', 'G-F82ML3P5DK');
        </script>
    </body>

</html>